const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;window.addEventListener("DOMContentLoaded",(function(){document.getElementById("anonymizer").addEventListener("submit",onsubmit)})),onsubmit=n=>{n.preventDefault();const e=document.querySelector('[name="urlanon"]').value;if(""===e)return!1;try{url=new URL(e),toAnonymize=url.hostname,parts=toAnonymize.split("."),domain=parts[parts.length-2],domain.length<8?domain=domain[0]+"..."+domain[domain.length-1]:domain=domain.slice(0,3)+"..."+domain.slice(domain.length-3,domain.length)}catch(n){anonurl.innerHTML="<p><mark>"+__("Invalid URL.","url-screw-up")+"</mark> "+__("Please enter as","url-screw-up")+' <pre>https://example.com/{path/to/file.html}</pre></p><p class="error">'+n+"</p>"}parts[parts.length-2]=domain,newDomain=url.protocol+"//"+parts.join(".")+url.port+url.pathname+url.search+url.hash,navigator.clipboard.writeText(newDomain);let r="<p>"+__("Copied to clipboard:","url-screw-up")+"</p>";r+="<pre><mark>"+newDomain+"</mark></pre>",anonurl.innerHTML=r};
